---
title: "MLB 2017"
author: "Jensen Holm & Kyle Knapp"
date: "2022-11-07"
output:
  prettydoc::html_pretty:
    theme: cayman
    highlight: github
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## Libraries
```{r include=TRUE, message=FALSE, warning=FALSE}
library(tidyverse)
```


## Read in the data
```{r include = TRUE}
statCast <- read.csv(paste(getwd(), "/data/statcast2017.csv", sep = ""))
bbref <- read.csv(paste(getwd(), "/data/bbref2017.csv", sep = ""))
```


## Joining the two datasets together with dplyr
```{r include=TRUE}
statCastName <- statCast %>% mutate(Name = paste(str_replace_all(first_name, " ", ""), str_replace_all(last_name, " ", ""), sep = " "))  

# currently not doing what I would like it to
bsbl <- left_join(statCastName, bbref, by = "Name")
```


## EDA
```{r include = TRUE, warning=FALSE, message=FALSE}
# without applying this filter on the data set, there were
# a lot of players with too few plate appearances messing 
bsblSub <- statCast %>% subset(attempts > 50)  

bsblSub %>% ggplot(aes(x = anglesweetspotpercent, y = avg_distance, color = attempts, alpha = 0.5)) +
  geom_point() +
  geom_smooth(method = "lm") +
  labs(
    title = "Average Hit Distance as a funciton of launch angle sweet spot %" ,
    x = "Launch Angle Sweet Spot %",
    y = "Average Hit Distance (ft.)"
  )
```

